---
layout: post
title: Jdk版本新特性
tags: Java基础 Jvm
categories: Java
published: true
---

JDK各版本新特性总结

## JDK1.4

* NIO

## JDK 1.5

* 静态导入
 	- 被导入方法必须是静态的
 	- 如果有多个同名的静态方法，容易不知道使用谁?这个时候要使用，必须加前缀。由此可见，意义不大，所以一般不用，但是要能看懂。

```java
import static java.lang.Math.abs;
import static java.lang.Math.pow;
import static java.lang.Math.max;

//错误
//import static java.util.ArrayList.add;

public class test {
    public static void main(String[] args) {
        // System.out.println(java.lang.Math.abs(-100));
        // System.out.println(java.lang.Math.pow(2, 3));
        // System.out.println(java.lang.Math.max(20, 30));
        // 太复杂，我们就引入到import

        // System.out.println(Math.abs(-100));
        // System.out.println(Math.pow(2, 3));
        // System.out.println(Math.max(20, 30));
        // 太复杂，有更简单

//      System.out.println(abs(-100));
        System.out.println(java.lang.Math.abs(-100));
        System.out.println(pow(2, 3));
        System.out.println(max(20, 30));
    }
    
    public static void abs(String s){
        System.out.println(s);
    }
}
```

* 自动装箱、拆箱

```java
	Integer i = 1;//装箱
	int j = i;//拆箱
```

* switch可以使用枚举值
* 增强for循环
* 可变参数
    - 这里的变量其实是一个数组
    - 如果一个方法有可变参数，并且有多个参数，那么，可变参数肯定是最后一个
    - Arrays.asList()虽然可以把数组转成集合，但是集合的长度不能改变。

```java
List<String> list = Arrays.asList("hello", "world", "java");
// UnsupportedOperationException
// list.add("javaee");
// UnsupportedOperationException
// list.remove(1);
```

* 枚举
* 泛型
* 元数据
* Scanner类处理用户录入
* Lock

```java
// 定义票
private int tickets = 100;

// 定义锁对象
private Lock lock = new ReentrantLock();// ReentrantLock是Lock的实现类

@Override
public void run() {
    while (true) {
        try {
            // 加锁
            lock.lock();
            if (tickets > 0) {
                try {
                    Thread.sleep(100);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                System.out.println(Thread.currentThread().getName()
                        + "正在出售第" + (tickets--) + "张票");
            }
        } finally {
            // 释放锁
            lock.unlock();
        }
    }
}
```

* 线程池
    - public static ExecutorService newCachedThreadPool() 创建一个具有缓存功能的线程池
    - public static ExecutorService newFixedThreadPool(int nThreads) 创建一个可重用的，具有固定线程数的线程池
    - public static ExecutorService newSingleThreadExecutor() 创建一个只有单线程的线程池，相当于上个方法的参数是1

## JDK 1.6

*

## JDK 1.7

* switch可以使用String

**switch语句的表达式可以是byte吗?可以是long吗?可以是String吗**

> 可以,不可以,JDK7以后可以

* 多个异常相同处理情况
    - 处理方式是一致的。(实际开发中，好多时候可能就是针对同类型的问题，给出同一个处理)
    - 多个异常间必须是平级关系。
```java
// JDK7的处理方案
try {
    System.out.println(a / b);
    System.out.println(arr[3]);
} catch (ArithmeticException | ArrayIndexOutOfBoundsException e) {
    System.out.println("出问题了");
}
```

* NIO改进
    - Path:与平台无关的路径。
    - Paths:包含了返回Path的静态方法。
    - Files:操作文件的工具类。提供了大量的方法





